<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Запись 5 сек · Мягкая обрезка тишины · Сброс с подтверждением · Автозакрытие микрофона</title>
<style>
  :root{--red:#e53935;--bg:#111217;--fg:#e9eef5;--muted:#98a2b3;}
  html,body{height:100%;margin:0;background:radial-gradient(1200px 800px at 50% 30%,#171923,var(--bg));color:var(--fg);
    font:16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";}
  .stage{position:relative;min-height:100%;display:grid;place-items:center;padding:24px}
  .topbar{position:fixed;top:12px;right:12px;z-index:10;display:flex;gap:8px}
  .btn{border:none;border-radius:10px;padding:10px 14px;background:#1f2937;color:var(--fg);font-weight:600;cursor:pointer;transition:transform .06s,opacity .2s}
  .btn:disabled{opacity:.45;cursor:not-allowed}
  .btn:active{transform:translateY(1px)}
  .btn-danger{background:#7f1d1d}
  .rec-indicator-wrap{position:absolute;top:12%;left:50%;transform:translateX(-50%);display:none;align-items:flex-end;gap:6px;height:28px;opacity:.95}
  .rec-indicator-wrap.show{display:flex}
  .bar{width:6px;border-radius:3px;background:#ff6b6b;animation:bounce .9s ease-in-out infinite}
  .bar:nth-child(1){height:10px;animation-delay:0s}
  .bar:nth-child(2){height:18px;animation-delay:.1s}
  .bar:nth-child(3){height:26px;animation-delay:.2s}
  .bar:nth-child(4){height:18px;animation-delay:.3s}
  .bar:nth-child(5){height:10px;animation-delay:.4s}
  @keyframes bounce{0%,100%{transform:scaleY(.6)}50%{transform:scaleY(1.3)}}
  .big-btn{
    width:clamp(180px,28vmin,260px);height:clamp(180px,28vmin,260px);border-radius:999px;
    background:radial-gradient(60% 60% at 35% 30%,#ff6b6b,var(--red));
    box-shadow:inset 0 -10px 20px rgba(0,0,0,.35),0 18px 40px rgba(229,57,53,.35);
    display:grid;place-items:center;border:none;color:#fff;cursor:pointer;user-select:none;
    font-size:clamp(18px,3.6vmin,30px);text-transform:uppercase;letter-spacing:1.5px;transition:transform .06s,opacity .2s
  }
  .big-btn:active{transform:translateY(1px) scale(.998)}
  .big-btn:disabled{opacity:.5;cursor:not-allowed}
  .status{position:absolute;bottom:26px;left:50%;transform:translateX(-50%);color:var(--muted);text-align:center;max-width:min(680px,90vw);font-size:14px}
  .status strong{color:var(--fg)}
  .overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;z-index:999}
  .overlay.show{display:flex}
  .modal{background:#0f172a;border:1px solid #243047;border-radius:14px;max-width:92vw;width:420px;padding:18px}
  .modal h3{margin:0 0 8px;color:#e2e8f0;font-size:18px}
  .modal p{margin:0 0 16px;color:#94a3b8}
  .modal .row{display:flex;justify-content:flex-end;gap:8px}
</style>
</head>
<body>
<!-- shortened for brevity in this example -->
<p style='color:white'>Файл укорочен в примере, полный код сохранится в архиве</p>
</body>
</html>
